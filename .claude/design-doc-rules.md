# 設計書作成の必須ルール

## Claude Codeが設計書を作成する際の絶対的ルール

### 🔴 必ず含めること

1. **完全な実装コード**
   - すべてのクラスの完全な実装
   - すべてのメソッドの具体的なコード
   - 「// TODO」や「// 実装」は禁止

2. **ユーザー操作フロー**
   - 各UIパーツをクリックした時の動作
   - データの流れ
   - 画面遷移

3. **必須クラス**（これらがない設計書は不完全）
   ```javascript
   - InlineEditor      // インライン編集の中核
   - PlantUMLGenerator // PlantUML生成エンジン
   - StateManager      // 状態管理
   - DataBinding       // データバインディング
   - EventHandler      // イベント処理
   ```

4. **機能チェックリスト**
   □ インライン編集（contentEditable）
   □ リアルタイムプレビュー
   □ ドラッグ&ドロップ
   □ 条件分岐・ループ・並行処理の編集
   □ 日本語対応
   □ エラーハンドリング
   □ Undo/Redo

### 🟡 設計書の構成

```markdown
1. 概要（1ページ以内）
2. 機能要件（チェックリスト形式）
3. アーキテクチャ（図＋説明）
4. 実装仕様（コード付き）
   - 各クラスの完全な実装
   - 各機能の動作コード
5. UI仕様（操作フロー）
6. テスト仕様
7. 実装手順
```

### 🔵 自己チェック

設計書作成後、以下を確認：
- [ ] プロトタイプの全機能を網羅しているか
- [ ] 開発者がコピペで実装できるレベルか
- [ ] UIの各要素の動作が明確か
- [ ] エラー処理が含まれているか

### ⚠️ よくある失敗

- ❌ セキュリティに偏重しすぎる
- ❌ 抽象的な説明で終わる
- ❌ 実装コードがない
- ❌ UI動作の説明不足