# PlantUML Editor Proto - 緊急修正後の動作確認チェックリスト

## 📋 実施日時
- **実施者**: 
- **日時**: 
- **環境**: Windows 11, Chrome/Edge/Firefox

## 🚀 修正内容の確認

### 1. HTTPサーバー起動テスト
- [ ] **start_server.batをダブルクリック**
  - [ ] コマンドプロンプトが開く
  - [ ] "PlantUML Editor Proto - HTTPサーバー起動" メッセージが表示
  - [ ] "ブラウザで http://localhost:8080 にアクセスしてください" が表示
  - [ ] エラーメッセージが表示されない

### 2. ブラウザアクセステスト
- [ ] **http://localhost:8080 にアクセス**
  - [ ] ページが正常に読み込まれる
  - [ ] コンソールエラー（F12）が表示されない
  - [ ] 左パネル（アクター選択）が表示される
  - [ ] 中央パネル（コードエディター）が表示される
  - [ ] 右パネル（プレビュー）が表示される

### 3. ES6モジュール読み込みテスト
- [ ] **ブラウザ開発者ツール（F12）でNetwork タブを確認**
  - [ ] app.js が正常に読み込まれる（Status: 200）
  - [ ] drawio-converter.js が正常に読み込まれる（Status: 200）
  - [ ] その他のJSファイルもすべて正常に読み込まれる
  - [ ] CORS エラーが発生しない
  - [ ] Module reading エラーが発生しない

## 🔧 基本機能テスト

### 4. アクター選択機能
- [ ] **アクターボタンをクリック**
  - [ ] 「顧客」ボタンをクリックして選択状態になる
  - [ ] 「EC」ボタンをクリックして選択状態になる
  - [ ] 「システム」ボタンをクリックして選択状態になる
  - [ ] カスタムアクター追加ボタンが動作する

### 5. 処理入力機能
- [ ] **処理の追加**
  - [ ] 送信元ドロップダウンでアクターを選択できる
  - [ ] 送信先ドロップダウンでアクターを選択できる
  - [ ] 処理内容のテキスト入力ができる
  - [ ] 「処理を追加」ボタンで処理が追加される
  - [ ] 追加された処理が処理フローリストに表示される

### 6. PlantUMLコード生成
- [ ] **コード表示**
  - [ ] 中央パネルにPlantUMLコードが表示される
  - [ ] @startuml と @enduml が含まれている
  - [ ] アクター→アクター: 処理内容 の形式になっている
  - [ ] 日本語が正しく表示される

### 7. プレビュー機能
- [ ] **図の表示**
  - [ ] 右パネルにシーケンス図が表示される
  - [ ] 図が読み込まれている（ローディング表示が消える）
  - [ ] ズームボタン（50%, 75%, 100%, 125%, 150%）が動作する
  - [ ] 図がズームに応じて拡大縮小される

## 🎯 高度な機能テスト

### 8. ドラッグ&ドロップ機能
- [ ] **順序変更**
  - [ ] 処理項目の「☰」アイコンをドラッグできる
  - [ ] ドラッグ中に青いライン（挿入位置）が表示される
  - [ ] ドロップで順序が変更される
  - [ ] PlantUMLコードが自動更新される
  - [ ] プレビューが自動更新される

### 9. draw.io連携機能
- [ ] **draw.ioエクスポート**
  - [ ] ヘッダーの「🔷 draw.io」ボタンをクリック
  - [ ] 新しいタブでdraw.ioが開く
  - [ ] 図形として編集可能な状態で読み込まれる
  - [ ] .drawioファイルダウンロードボタンが動作する

### 10. コードエディター機能
- [ ] **双方向編集**
  - [ ] コードエディターでPlantUMLコードを直接編集
  - [ ] 編集内容がプレビューに反映される
  - [ ] Ctrl+Space でヒントが表示される（対応ブラウザのみ）
  - [ ] 🔄同期ボタンでUI側に反映される

### 11. キーボードショートカット
- [ ] **ショートカットキー**
  - [ ] Ctrl+Z で最後の処理を削除
  - [ ] Ctrl+Shift+Z ですべてクリア
  - [ ] Ctrl+C でコードをコピー
  - [ ] Ctrl+D で最後の処理を複製
  - [ ] F2 でコードを整形
  - [ ] F5 でプレビューを更新

## 🌐 ブラウザ互換性テスト

### 12. Chrome テスト
- [ ] **Chrome 90+ での動作確認**
  - [ ] すべての基本機能が動作する
  - [ ] ES6モジュールが正常に読み込まれる
  - [ ] コンソールエラーがない

### 13. Edge テスト  
- [ ] **Edge 90+ での動作確認**
  - [ ] すべての基本機能が動作する
  - [ ] ES6モジュールが正常に読み込まれる
  - [ ] コンソールエラーがない

### 14. Firefox テスト
- [ ] **Firefox 88+ での動作確認**
  - [ ] すべての基本機能が動作する
  - [ ] ES6モジュールが正常に読み込まれる
  - [ ] コンソールエラーがない

## 🚨 エラーハンドリングテスト

### 15. ネットワークエラー対応
- [ ] **Kroki API接続エラー**
  - [ ] インターネット接続を無効にしてテスト
  - [ ] エラーメッセージが適切に表示される
  - [ ] アプリケーションがクラッシュしない

### 16. 無効な入力への対応
- [ ] **空の処理を追加**
  - [ ] 空のテキストで処理を追加しようとする
  - [ ] 適切なエラーメッセージまたは防止機能が動作する

### 17. 大量データの処理
- [ ] **大きなシーケンス図**
  - [ ] 20個以上の処理を追加
  - [ ] パフォーマンスが大幅に低下しない
  - [ ] メモリリークが発生しない

## 📊 修正前との比較

### 18. 修正前の問題が解決されているか
- [ ] **ES6モジュールエラーが解決**
  - [ ] 以前の「CORS エラー」が発生しない
  - [ ] 以前の「Module loading エラー」が発生しない
  - [ ] start_server.bat なしでも動作することを確認（file://プロトコルでエラーが出ることを確認）

## ✅ 完了判定

### 全体評価
- [ ] **全項目が正常に動作する**
- [ ] **重大なエラーが発生しない**  
- [ ] **ユーザビリティが向上している**
- [ ] **緊急修正の目的が達成されている**

## 📝 問題・改善点のメモ

### 発見された問題
```
問題1:
症状: 
再現手順:
優先度: [高/中/低]

問題2:
症状:
再現手順: 
優先度: [高/中/低]
```

### 改善提案
```
提案1:
内容:
実装工数:

提案2:
内容:
実装工数:
```

## 🎯 次のステップ

### 緊急修正後の推奨作業
- [ ] **本格的なE2Eテストの実行**
- [ ] **パフォーマンステストの実施**
- [ ] **セキュリティテストの実施**
- [ ] **ユーザビリティテストの実施**

---

**チェックリスト実施者署名**: ________________  
**実施完了日時**: ________________